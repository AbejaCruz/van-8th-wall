<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>8th Wall Web: Manipulate</title>

    <!-- We've included a slightly modified version of A-Frame, which fixes some polish concerns -->
    <script src="//cdn.8thwall.com/web/aframe/8frame-0.9.2.min.js"></script>
    <script src="gesture-detector.js"></script>
    <script src="hold-drag.js"></script>
    <script src="pinch-scale.js"></script>
    <script src="two-finger-spin.js"></script>
    <script src="cubemap-absolute.js"></script>


    <!-- XR Extras - provides utilities like load screen, almost there, and error handling.
         See github.com/8thwall/web/xrextras -->
    <script defer src="//cdn.8thwall.com/web/xrextras/xrextras.js"></script>
    

    <!-- 8thWall Web - Replace the app key here with your own app key -->
    
    <script async src="//apps.8thwall.com/xrweb?appKey=5Wo7vjr5uxzpbf8YitOuSt5kX3rctNwRDamniqzy1vGBSgcFDl9afXGPIGcZHmOPxTq0pK"></script>
    
  </head>

  <body>
    <a-scene
  renderer="colorManagement: true"
  xrextras-gesture-detector
  xrextras-almost-there
  xrextras-loading
  xrextras-runtime-error
  xrweb
  >

  <a-assets>
    <a-asset-item id="ballModel" src="./assets/VanHippie.glb"></a-asset-item>
    <img id="posx" src="./assets/cubemap/posx.jpg">
    <img id="posy" src="./assets/cubemap/posy.jpg">
    <img id="posz" src="./assets/cubemap/posz.jpg">
    <img id="negx" src="./assets/cubemap/negx.jpg">
    <img id="negy" src="./assets/cubemap/negy.jpg">
    <img id="negz" src="./assets/cubemap/negz.jpg">
  </a-assets>

  <a-camera
        id="camera"
        position="0 8 8"
        raycaster="objects: .cantap"
        cursor="
      fuse: false;
      rayOrigin: mouse;"
    >
    </a-camera>
    <a-entity
        light="type: directional;
           intensity: 0.5;
           castShadow: true;
           shadowMapHeight:2048;
           shadowMapWidth:2048;
           shadowCameraTop: 10;
           target: #ball;"
        position="1 4.3 2.5"
        xrextras-attach="target: ball; offset: 0 15 0;"
        shadow
    >
    </a-entity>
    <a-light
        type="ambient"
        intensity="1"
    ></a-light>
    <a-entity
        id="ball"
        gltf-model="#ballModel"
        class="cantap"
        cube-env-map
        xrextras-hold-drag
        xrextras-two-finger-rotate
        xrextras-pinch-scale
        scale="7 7 7"
        shadow
    ></a-entity>
    <a-plane
        id="ground"
        position="0 0 0"
        rotation="-90 0 0"
        width="100"
        height="100"
        material="shader: shadow"
        shadow
    ></a-plane>
</a-scene>
  </body>
</html>
